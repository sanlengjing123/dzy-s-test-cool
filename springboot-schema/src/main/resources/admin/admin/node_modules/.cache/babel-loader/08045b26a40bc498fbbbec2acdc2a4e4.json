{"remainingRequest":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\src\\utils\\http.js","dependencies":[{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\src\\utils\\http.js","mtime":1589335344000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlci9yb3V0ZXItc3RhdGljJzsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnQC91dGlscy9zdG9yYWdlJzsKY29uc3QgaHR0cCA9IGF4aW9zLmNyZWF0ZSh7CiAgdGltZW91dDogMTAwMCAqIDg2NDAwLAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICBiYXNlVVJMOiAnL3NwcmluZ2Jvb3RqbHZwQycsCiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JwogIH0KfSk7IC8vIOivt+axguaLpuaIqgoKaHR0cC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICBjb25maWcuaGVhZGVyc1snVG9rZW4nXSA9IHN0b3JhZ2UuZ2V0KCdUb2tlbicpOyAvLyDor7fmsYLlpLTluKbkuIp0b2tlbgoKICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWTjeW6lOaLpuaIqgoKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09IDQwMSkgewogICAgLy8gNDAxLCB0b2tlbuWkseaViAogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnbG9naW4nCiAgICB9KTsKICB9CgogIHJldHVybiByZXNwb25zZTsKfSwgZXJyb3IgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"sources":["D:/springboot-schema/src/main/resources/admin/admin/src/utils/http.js"],"names":["axios","router","storage","http","create","timeout","withCredentials","baseURL","headers","interceptors","request","use","config","get","error","Promise","reject","response","data","code","push","name"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAEA,MAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,OAAO,KADM;AAEtBC,EAAAA,eAAe,EAAE,IAFK;AAGtBC,EAAAA,OAAO,EAAE,kBAHa;AAItBC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAJa,CAAb,CAAb,C,CAQA;;AACAL,IAAI,CAACM,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8BC,MAAM,IAAI;AACpCA,EAAAA,MAAM,CAACJ,OAAP,CAAe,OAAf,IAA0BN,OAAO,CAACW,GAAR,CAAY,OAAZ,CAA1B,CADoC,CACW;;AAC/C,SAAOD,MAAP;AACH,CAHD,EAGGE,KAAK,IAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CALD,E,CAMA;;AACAX,IAAI,CAACM,YAAL,CAAkBQ,QAAlB,CAA2BN,GAA3B,CAA+BM,QAAQ,IAAI;AACvC,MAAIA,QAAQ,CAACC,IAAT,IAAiBD,QAAQ,CAACC,IAAT,CAAcC,IAAd,KAAuB,GAA5C,EAAiD;AAAE;AAC/ClB,IAAAA,MAAM,CAACmB,IAAP,CAAY;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAZ;AACH;;AACD,SAAOJ,QAAP;AACH,CALD,EAKGH,KAAK,IAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAPD;AAQA,eAAeX,IAAf","sourcesContent":["import axios from 'axios'\r\nimport router from '@/router/router-static'\r\nimport storage from '@/utils/storage'\r\n\r\nconst http = axios.create({\r\n    timeout: 1000 * 86400,\r\n    withCredentials: true,\r\n    baseURL: '/springbootjlvpC',\r\n    headers: {\r\n        'Content-Type': 'application/json; charset=utf-8'\r\n    }\r\n})\r\n// 请求拦截\r\nhttp.interceptors.request.use(config => {\r\n    config.headers['Token'] = storage.get('Token') // 请求头带上token\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\n// 响应拦截\r\nhttp.interceptors.response.use(response => {\r\n    if (response.data && response.data.code === 401) { // 401, token失效\r\n        router.push({ name: 'login' })\r\n    }\r\n    return response\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\nexport default http"]}]}