{"remainingRequest":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\src\\views\\center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\src\\views\\center.vue","mtime":1596584880000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\springboot-schema\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5pWw5a2X77yM6YKu5Lu277yM5omL5py677yMdXJs77yM6Lqr5Lu96K+B5qCh6aqMCmltcG9ydCB7IGlzTnVtYmVyLCBpc0ludE51bWVyLCBpc0VtYWlsLCBpc01vYmlsZSwgaXNVUkwsIGNoZWNrSWRDYXJkIH0gZnJvbSAiQC91dGlscy92YWxpZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHt9LAogICAgICBmbGFnOiAnJywKICAgICAgdXNlcnNGbGFnOiBmYWxzZSwKICAgICAgeW9uZ2h1eGluZ2JpZU9wdGlvbnM6IFtdCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB2YXIgdGFibGUgPSB0aGlzLiRzdG9yYWdlLmdldCgic2Vzc2lvblRhYmxlIik7CiAgICB0aGlzLmZsYWcgPSB0YWJsZTsKICAgIHRoaXMuJGh0dHAoewogICAgICB1cmw6IGAke3RoaXMuJHN0b3JhZ2UuZ2V0KCJzZXNzaW9uVGFibGUiKX0vc2Vzc2lvbmAsCiAgICAgIG1ldGhvZDogImdldCIKICAgIH0pLnRoZW4oKHsKICAgICAgZGF0YQogICAgfSkgPT4gewogICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICB0aGlzLnJ1bGVGb3JtID0gZGF0YS5kYXRhOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMueW9uZ2h1eGluZ2JpZU9wdGlvbnMgPSAi55S3LOWlsyIuc3BsaXQoJywnKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBvblVwZGF0ZUhhbmRsZXIoKSB7CiAgICAgIGlmICghdGhpcy5ydWxlRm9ybS55b25naHVtaW5nICYmICd5b25naHUnID09IHRoaXMuZmxhZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+eUqOaIt+WQjeS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnJ1bGVGb3JtLnhpbmdtaW5nICYmICd5b25naHUnID09IHRoaXMuZmxhZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+Wnk+WQjeS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnJ1bGVGb3JtLm1pbWEgJiYgJ3lvbmdodScgPT0gdGhpcy5mbGFnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5a+G56CB5LiN6IO95Li656m6Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoJ3lvbmdodScgPT0gdGhpcy5mbGFnICYmIHRoaXMucnVsZUZvcm0uZGlhbmh1YSAmJiAhaXNNb2JpbGUodGhpcy5ydWxlRm9ybS5kaWFuaHVhKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOeUteivneW6lOi+k+WFpeeUteivneagvOW8j2ApOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCdxaXlleGlueGknID09IHRoaXMuZmxhZyAmJiB0aGlzLnJ1bGVGb3JtLmxpYW54aWRpYW5odWEgJiYgIWlzTW9iaWxlKHRoaXMucnVsZUZvcm0ubGlhbnhpZGlhbmh1YSkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGDogZTns7vnlLXor53lupTovpPlhaXnlLXor53moLzlvI9gKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICgncWl5ZXhpbnhpJyA9PSB0aGlzLmZsYWcgJiYgdGhpcy5ydWxlRm9ybS5xaXlleW91eGlhbmcgJiYgIWlzRW1haWwodGhpcy5ydWxlRm9ybS5xaXlleW91eGlhbmcpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihg5LyB5Lia6YKu566x5bqU6L6T5YWl6YKu566x5qC85byPYCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6IGAke3RoaXMuJHN0b3JhZ2UuZ2V0KCJzZXNzaW9uVGFibGUiKX0vdXBkYXRlYCwKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICBkYXRhOiB0aGlzLnJ1bGVGb3JtCiAgICAgIH0pLnRoZW4oKHsKICAgICAgICBkYXRhCiAgICAgIH0pID0+IHsKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5L+u5pS55L+h5oGv5oiQ5YqfIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgb25DbG9zZTogKCkgPT4ge30KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["center.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-form\r\n                class=\"detail-form-content\"\r\n                ref=\"ruleForm\"\r\n                :model=\"ruleForm\"\r\n                label-width=\"80px\"\r\n        >\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='yonghu'\" label=\"用户名\" prop=\"yonghuming\">\r\n                    <el-input v-model=\"ruleForm.yonghuming\"\r\n                              placeholder=\"用户名\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='yonghu'\" label=\"姓名\" prop=\"xingming\">\r\n                    <el-input v-model=\"ruleForm.xingming\"\r\n                              placeholder=\"姓名\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='yonghu'\" label=\"密码\" prop=\"mima\">\r\n                    <el-input v-model=\"ruleForm.mima\"\r\n                              placeholder=\"密码\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='yonghu'\" label=\"性别\" prop=\"xingbie\">\r\n                    <el-select v-model=\"ruleForm.xingbie\" placeholder=\"请选择性别\">\r\n                        <el-option\r\n                                v-for=\"(item,index) in yonghuxingbieOptions\"\r\n                                v-bind:key=\"index\"\r\n                                :label=\"item\"\r\n                                :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='yonghu'\" label=\"电话\" prop=\"dianhua\">\r\n                    <el-input v-model=\"ruleForm.dianhua\"\r\n                              placeholder=\"电话\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='yonghu'\" label=\"邮箱\" prop=\"youxiang\">\r\n                    <el-input v-model=\"ruleForm.youxiang\"\r\n                              placeholder=\"邮箱\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"企业编号\" prop=\"qiyebianhao\">\r\n                    <el-input v-model=\"ruleForm.qiyebianhao\"\r\n                              placeholder=\"企业编号\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"密码\" prop=\"mima\">\r\n                    <el-input v-model=\"ruleForm.mima\"\r\n                              placeholder=\"密码\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"企业名称\" prop=\"qiyemingcheng\">\r\n                    <el-input v-model=\"ruleForm.qiyemingcheng\"\r\n                              placeholder=\"企业名称\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"负责人\" prop=\"fuzeren\">\r\n                    <el-input v-model=\"ruleForm.fuzeren\"\r\n                              placeholder=\"负责人\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"联系电话\" prop=\"lianxidianhua\">\r\n                    <el-input v-model=\"ruleForm.lianxidianhua\"\r\n                              placeholder=\"联系电话\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"企业邮箱\" prop=\"qiyeyouxiang\">\r\n                    <el-input v-model=\"ruleForm.qiyeyouxiang\"\r\n                              placeholder=\"企业邮箱\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-form-item v-if=\"flag=='qiyexinxi'\" label=\"企业介绍\" prop=\"qiyejieshao\">\r\n                    <el-input v-model=\"ruleForm.qiyejieshao\"\r\n                              placeholder=\"企业介绍\" clearable></el-input>\r\n                </el-form-item>\r\n            </el-col>\r\n            <el-form-item v-if=\"flag=='users'\" label=\"用户名\" prop=\"username\">\r\n                <el-input v-model=\"ruleForm.username\"\r\n                          placeholder=\"用户名\"></el-input>\r\n            </el-form-item>\r\n            <el-col :span=\"24\">\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"onUpdateHandler\">修 改</el-button>\r\n                </el-form-item>\r\n            </el-col>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n<script>\r\n    // 数字，邮件，手机，url，身份证校验\r\n    import {isNumber, isIntNumer, isEmail, isMobile, isURL, checkIdCard} from \"@/utils/validate\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                ruleForm: {},\r\n                flag: '',\r\n                usersFlag: false,\r\n                yonghuxingbieOptions: [],\r\n            };\r\n        },\r\n        mounted() {\r\n            var table = this.$storage.get(\"sessionTable\");\r\n            this.flag = table;\r\n            this.$http({\r\n                url: `${this.$storage.get(\"sessionTable\")}/session`,\r\n                method: \"get\"\r\n            }).then(({data}) => {\r\n                if (data && data.code === 0) {\r\n                    this.ruleForm = data.data;\r\n                } else {\r\n                    this.$message.error(data.msg);\r\n                }\r\n            });\r\n            this.yonghuxingbieOptions = \"男,女\".split(',')\r\n        },\r\n        methods: {\r\n            onUpdateHandler() {\r\n                if ((!this.ruleForm.yonghuming) && 'yonghu' == this.flag) {\r\n                    this.$message.error('用户名不能为空');\r\n                    return\r\n                }\r\n                if ((!this.ruleForm.xingming) && 'yonghu' == this.flag) {\r\n                    this.$message.error('姓名不能为空');\r\n                    return\r\n                }\r\n                if ((!this.ruleForm.mima) && 'yonghu' == this.flag) {\r\n                    this.$message.error('密码不能为空');\r\n                    return\r\n                }\r\n                if ('yonghu' == this.flag && this.ruleForm.dianhua && (!isMobile(this.ruleForm.dianhua))) {\r\n                    this.$message.error(`电话应输入电话格式`);\r\n                    return\r\n                }\r\n                if ('qiyexinxi' == this.flag && this.ruleForm.lianxidianhua && (!isMobile(this.ruleForm.lianxidianhua))) {\r\n                    this.$message.error(`联系电话应输入电话格式`);\r\n                    return\r\n                }\r\n                if ('qiyexinxi' == this.flag && this.ruleForm.qiyeyouxiang && (!isEmail(this.ruleForm.qiyeyouxiang))) {\r\n                    this.$message.error(`企业邮箱应输入邮箱格式`);\r\n                    return\r\n                }\r\n                this.$http({\r\n                    url: `${this.$storage.get(\"sessionTable\")}/update`,\r\n                    method: \"post\",\r\n                    data: this.ruleForm\r\n                }).then(({data}) => {\r\n                    if (data && data.code === 0) {\r\n                        this.$message({\r\n                            message: \"修改信息成功\",\r\n                            type: \"success\",\r\n                            duration: 1500,\r\n                            onClose: () => {\r\n                            }\r\n                        });\r\n                    } else {\r\n                        this.$message.error(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/views"}]}